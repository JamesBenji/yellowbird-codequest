{"version":3,"file":"js/508.4bd998ef.js","mappings":"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","sources":["webpack://codequest/./src/stores/product.ts","webpack://codequest/./src/views/AdminProducts.vue?850e","webpack://codequest/./src/views/AdminProducts.vue","webpack://codequest/./src/views/AdminProducts.vue?cec0"],"sourcesContent":["/* eslint-disable linebreak-style */\r\n/* eslint-disable max-len */\r\nimport { defineStore } from 'pinia';\r\nimport {\r\n  getFirestore,\r\n  collection,\r\n  getDocs,\r\n  addDoc,\r\n  updateDoc,\r\n  deleteDoc,\r\n  doc,\r\n} from 'firebase/firestore';\r\nimport {\r\n  getStorage,\r\n  ref,\r\n  uploadBytesResumable,\r\n  getDownloadURL,\r\n} from 'firebase/storage';\r\nimport { firebaseApp } from '@/plugins/vuefire';\r\nimport { Product } from '@/types';\r\nimport { CATEGORIES_COLLECTION, PRODUCT_COLLECTION } from '@/config';\r\n\r\nconst db = getFirestore(firebaseApp);\r\nconst storage = getStorage(firebaseApp);\r\n\r\nconst useProductStore = defineStore('product', {\r\n  state: () => ({\r\n    products: [] as Product[],\r\n    categories: [] as string[],\r\n    searchQuery: '',\r\n    selectedCategory: 'all',\r\n    priceRange: [0, 10000],\r\n  }),\r\n\r\n  getters: {\r\n    filteredProducts: (state) => state.products.filter((product) => {\r\n      const matchesSearch = product.name.toLowerCase().includes(state.searchQuery.toLowerCase())\r\n          || product.description.toLowerCase().includes(state.searchQuery.toLowerCase());\r\n\r\n      const matchesCategory = state.selectedCategory === 'all' || product.category === state.selectedCategory;\r\n\r\n      const matchesPrice = product.price >= state.priceRange[0] && product.price <= state.priceRange[1];\r\n\r\n      return matchesSearch && matchesCategory && matchesPrice;\r\n    }),\r\n  },\r\n\r\n  actions: {\r\n    async fetchProducts() {\r\n      const querySnapshot = await getDocs(collection(db, PRODUCT_COLLECTION));\r\n      this.products = querySnapshot.docs.map((document) => ({ id: document.id, ...document.data() } as Product));\r\n    },\r\n\r\n    async addProduct(product: Omit<Product, 'id'>) {\r\n      await addDoc(collection(db, PRODUCT_COLLECTION), product);\r\n      await this.fetchProducts(); // Refresh list\r\n    },\r\n\r\n    async updateProduct(id: string, updatedProduct: Partial<Product>) {\r\n      await updateDoc(doc(db, PRODUCT_COLLECTION, id), updatedProduct);\r\n      await this.fetchProducts();\r\n    },\r\n\r\n    async deleteProduct(id: string) {\r\n      await deleteDoc(doc(db, PRODUCT_COLLECTION, id));\r\n      await this.fetchProducts();\r\n    },\r\n\r\n    async uploadImage(file: File): Promise<string> {\r\n      const storageRef = ref(storage, `products/${file.name}`);\r\n      const uploadTask = uploadBytesResumable(storageRef, file);\r\n\r\n      return new Promise((resolve, reject) => {\r\n        uploadTask.on(\r\n          'state_changed',\r\n          null,\r\n          (error) => reject(error),\r\n          async () => {\r\n            const downloadURL = await getDownloadURL(uploadTask.snapshot.ref);\r\n            resolve(downloadURL);\r\n          },\r\n        );\r\n      });\r\n    },\r\n\r\n    async getProductCategories() {\r\n      if (this.categories.length < 1) await this.fetchCategories();\r\n      return this.categories;\r\n    },\r\n\r\n    async fetchCategories() {\r\n      const querySnapshot = await getDocs(collection(db, CATEGORIES_COLLECTION));\r\n      this.categories = querySnapshot.docs.map((d) => d.id);\r\n    },\r\n\r\n    async addCategory(name: string) {\r\n      await addDoc(collection(db, CATEGORIES_COLLECTION), { name });\r\n      await this.fetchCategories();\r\n    },\r\n\r\n    setSearchQuery(query: string) {\r\n      this.searchQuery = query;\r\n    },\r\n\r\n    setCategory(category: string) {\r\n      this.selectedCategory = category;\r\n    },\r\n\r\n    setPriceRange(range: [number, number]) {\r\n      this.priceRange = range;\r\n    },\r\n  },\r\n});\r\n\r\nexport default useProductStore;\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, vModelCheckbox as _vModelCheckbox, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers } from \"vue\"\n\nconst _hoisted_1 = { class: \"max-w-4xl mx-auto p-8 bg-gray-100 min-h-screen\" }\nconst _hoisted_2 = { class: \"grid gap-8\" }\nconst _hoisted_3 = { class: \"space-y-6\" }\nconst _hoisted_4 = { class: \"grid md:grid-cols-2 gap-6\" }\nconst _hoisted_5 = {\n  for: \"name\",\n  class: \"block\"\n}\nconst _hoisted_6 = {\n  for: \"price\",\n  class: \"block\"\n}\nconst _hoisted_7 = {\n  for: \"description\",\n  class: \"block\"\n}\nconst _hoisted_8 = {\n  for: \"imageUrl\",\n  class: \"block\"\n}\nconst _hoisted_9 = { class: \"grid md:grid-cols-2 gap-6\" }\nconst _hoisted_10 = {\n  for: \"category\",\n  class: \"block\"\n}\nconst _hoisted_11 = [\"value\"]\nconst _hoisted_12 = {\n  for: \"stockQuantity\",\n  class: \"block\"\n}\nconst _hoisted_13 = { class: \"grid md:grid-cols-2 gap-6\" }\nconst _hoisted_14 = {\n  for: \"discount\",\n  class: \"block\"\n}\nconst _hoisted_15 = { class: \"flex items-center gap-3 mt-1\" }\nconst _hoisted_16 = {\n  key: 0,\n  for: \"discountPercentage\",\n  class: \"block\"\n}\nconst _hoisted_17 = { class: \"space-y-4\" }\nconst _hoisted_18 = { class: \"flex justify-between items-center\" }\nconst _hoisted_19 = { class: \"space-y-3\" }\nconst _hoisted_20 = [\"onUpdate:modelValue\"]\nconst _hoisted_21 = [\"onClick\"]\nconst _hoisted_22 = [\"disabled\"]\nconst _hoisted_23 = { class: \"bg-white p-8 rounded-lg shadow-lg\" }\nconst _hoisted_24 = { for: \"newCategory\" }\nconst _hoisted_25 = [\"disabled\"]\nconst _hoisted_26 = { class: \"bg-gray-50 p-4 rounded-lg\" }\nconst _hoisted_27 = { class: \"flex flex-wrap gap-2\" }\n\nimport { ref, onMounted } from 'vue';\r\nimport type { Product } from '@/types';\r\nimport useNotificationStore from '@/stores/notification';\r\nimport useProductStore from '../stores/product';\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'AdminProducts',\n  setup(__props) {\n\r\nconst productStore = useProductStore();\r\nconst notificationStore = useNotificationStore();\r\n\r\nconst name = ref('');\r\nconst description = ref('');\r\nconst price = ref<number>(0);\r\nconst imageUrl = ref('');\r\nconst category = ref('');\r\nconst stockQuantity = ref<number>(0);\r\nconst hasDiscount = ref(false);\r\nconst discountPercentage = ref<number>(0);\r\nconst galleryUrls = ref<string[]>([]);\r\nconst newCategory = ref('');\r\nconst isAddingProduct = ref(false);\r\nconst isAddingCategory = ref(false);\r\n\r\nonMounted(() => {\r\n  notificationStore.addNotification('Loading...', 'success');\r\n  productStore.fetchProducts();\r\n  productStore.fetchCategories();\r\n});\r\n\r\nconst addGalleryUrl = () => galleryUrls.value.push('');\r\nconst removeGalleryUrl = (index: number) => galleryUrls.value.splice(index, 1);\r\n\r\nconst addProduct = async () => {\r\n  try {\r\n    isAddingProduct.value = true;\r\n    const productData: Omit<Product, 'id'> = {\r\n      name: name.value,\r\n      description: description.value,\r\n      price: price.value,\r\n      imageUrl: imageUrl.value,\r\n      category: category.value,\r\n      stockQuantity: stockQuantity.value,\r\n      stockLevel: stockQuantity.value > 0 ? 'in_stock' : 'out_of_stock',\r\n      hasDiscount: hasDiscount.value,\r\n      discountPercentage: hasDiscount.value ? discountPercentage.value : 0,\r\n      galleryUrls: galleryUrls.value.filter((url) => url.trim() !== ''),\r\n    };\r\n\r\n    await productStore.addProduct(productData);\r\n\r\n    // Reset form\r\n    name.value = '';\r\n    description.value = '';\r\n    price.value = 0;\r\n    imageUrl.value = '';\r\n    category.value = '';\r\n    stockQuantity.value = 0;\r\n    hasDiscount.value = false;\r\n    discountPercentage.value = 0;\r\n    galleryUrls.value = [];\r\n\r\n    notificationStore.addNotification('Product added successfully!', 'success');\r\n  } catch (error) {\r\n    notificationStore.addNotification('Error adding product', 'error');\r\n  } finally {\r\n    isAddingProduct.value = false;\r\n  }\r\n};\r\n\r\nconst addCategory = async () => {\r\n  try {\r\n    isAddingCategory.value = true;\r\n    await productStore.addCategory(newCategory.value);\r\n    newCategory.value = '';\r\n    notificationStore.addNotification('Category added successfully!', 'success');\r\n  } catch (error) {\r\n    notificationStore.addNotification('Error adding category', 'error');\r\n  } finally {\r\n    isAddingCategory.value = false;\r\n  }\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _cache[23] || (_cache[23] = _createElementVNode(\"h1\", { class: \"text-3xl font-bold mb-8 text-gray-800\" }, \"Admin Dashboard\", -1)),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"form\", {\n        onSubmit: _withModifiers(addProduct, [\"prevent\"]),\n        class: \"bg-white p-8 rounded-lg shadow-lg\"\n      }, [\n        _cache[20] || (_cache[20] = _createElementVNode(\"h2\", { class: \"text-2xl font-semibold text-gray-800 mb-6\" }, \"Add New Product\", -1)),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createElementVNode(\"label\", _hoisted_5, [\n              _cache[9] || (_cache[9] = _createElementVNode(\"span\", { class: \"text-gray-700 mb-2\" }, \"Product Name *\", -1)),\n              _withDirectives(_createElementVNode(\"input\", {\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((name).value = $event)),\n                type: \"text\",\n                required: \"\",\n                class: \"w-full px-4 py-2 mt-1 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n              }, null, 512), [\n                [_vModelText, name.value]\n              ])\n            ]),\n            _createElementVNode(\"label\", _hoisted_6, [\n              _cache[10] || (_cache[10] = _createElementVNode(\"span\", { class: \"text-gray-700 mb-2\" }, \"Price *\", -1)),\n              _withDirectives(_createElementVNode(\"input\", {\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((price).value = $event)),\n                type: \"number\",\n                step: \"0.01\",\n                min: \"0\",\n                required: \"\",\n                class: \"w-full px-4 py-2 mt-1 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n              }, null, 512), [\n                [_vModelText, price.value]\n              ])\n            ])\n          ]),\n          _createElementVNode(\"label\", _hoisted_7, [\n            _cache[11] || (_cache[11] = _createElementVNode(\"span\", { class: \"text-gray-700 mb-2\" }, \"Description *\", -1)),\n            _withDirectives(_createElementVNode(\"textarea\", {\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((description).value = $event)),\n              rows: \"4\",\n              required: \"\",\n              class: \"w-full px-4 py-2 mt-1 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n            }, null, 512), [\n              [_vModelText, description.value]\n            ])\n          ]),\n          _createElementVNode(\"label\", _hoisted_8, [\n            _cache[12] || (_cache[12] = _createElementVNode(\"span\", { class: \"text-gray-700 mb-2\" }, \"Main Image URL *\", -1)),\n            _withDirectives(_createElementVNode(\"input\", {\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((imageUrl).value = $event)),\n              type: \"text\",\n              required: \"\",\n              class: \"w-full px-4 py-2 mt-1 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n            }, null, 512), [\n              [_vModelText, imageUrl.value]\n            ])\n          ]),\n          _createElementVNode(\"div\", _hoisted_9, [\n            _createElementVNode(\"label\", _hoisted_10, [\n              _cache[14] || (_cache[14] = _createElementVNode(\"span\", { class: \"text-gray-700 mb-2\" }, \"Category *\", -1)),\n              _withDirectives(_createElementVNode(\"select\", {\n                \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((category).value = $event)),\n                required: \"\",\n                class: \"w-full px-4 py-2 mt-1 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n              }, [\n                _cache[13] || (_cache[13] = _createElementVNode(\"option\", {\n                  value: \"\",\n                  disabled: \"\"\n                }, \"Select a category\", -1)),\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(productStore).categories, (cat) => {\n                  return (_openBlock(), _createElementBlock(\"option\", {\n                    key: cat,\n                    value: cat\n                  }, _toDisplayString(cat), 9, _hoisted_11))\n                }), 128))\n              ], 512), [\n                [_vModelSelect, category.value]\n              ])\n            ]),\n            _createElementVNode(\"label\", _hoisted_12, [\n              _cache[15] || (_cache[15] = _createElementVNode(\"span\", { class: \"text-gray-700 mb-2\" }, \"Stock Quantity *\", -1)),\n              _withDirectives(_createElementVNode(\"input\", {\n                \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((stockQuantity).value = $event)),\n                type: \"number\",\n                min: \"0\",\n                required: \"\",\n                class: \"w-full px-4 py-2 mt-1 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n              }, null, 512), [\n                [\n                  _vModelText,\n                  stockQuantity.value,\n                  void 0,\n                  { number: true }\n                ]\n              ])\n            ])\n          ]),\n          _createElementVNode(\"div\", _hoisted_13, [\n            _createElementVNode(\"label\", _hoisted_14, [\n              _cache[17] || (_cache[17] = _createElementVNode(\"span\", { class: \"text-gray-700 mb-2\" }, \"Discount\", -1)),\n              _createElementVNode(\"div\", _hoisted_15, [\n                _withDirectives(_createElementVNode(\"input\", {\n                  \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((hasDiscount).value = $event)),\n                  type: \"checkbox\",\n                  class: \"w-4 h-4 text-blue-600 rounded focus:ring-blue-500\"\n                }, null, 512), [\n                  [_vModelCheckbox, hasDiscount.value]\n                ]),\n                _cache[16] || (_cache[16] = _createElementVNode(\"span\", null, \"Apply Discount\", -1))\n              ])\n            ]),\n            (hasDiscount.value)\n              ? (_openBlock(), _createElementBlock(\"label\", _hoisted_16, [\n                  _cache[18] || (_cache[18] = _createElementVNode(\"span\", { class: \"text-gray-700 mb-2\" }, \"Discount Percentage\", -1)),\n                  _withDirectives(_createElementVNode(\"input\", {\n                    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((discountPercentage).value = $event)),\n                    type: \"number\",\n                    min: \"0\",\n                    max: \"100\",\n                    class: \"w-full px-4 py-2 mt-1 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n                  }, null, 512), [\n                    [\n                      _vModelText,\n                      discountPercentage.value,\n                      void 0,\n                      { number: true }\n                    ]\n                  ])\n                ]))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _createElementVNode(\"div\", _hoisted_17, [\n            _createElementVNode(\"div\", _hoisted_18, [\n              _cache[19] || (_cache[19] = _createElementVNode(\"h3\", { class: \"text-lg font-medium text-gray-800\" }, \"Gallery Images\", -1)),\n              _createElementVNode(\"button\", {\n                onClick: _withModifiers(addGalleryUrl, [\"prevent\"]),\n                type: \"button\",\n                class: \"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600\"\n              }, \" Add Image URL \")\n            ]),\n            _createElementVNode(\"div\", _hoisted_19, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(galleryUrls.value, (url, index) => {\n                return (_openBlock(), _createElementBlock(\"label\", {\n                  for: \"galleryUrls\",\n                  key: index,\n                  class: \"flex gap-3\"\n                }, [\n                  _withDirectives(_createElementVNode(\"input\", {\n                    \"onUpdate:modelValue\": ($event: any) => ((galleryUrls.value[index]) = $event),\n                    type: \"text\",\n                    class: \"flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n                  }, null, 8, _hoisted_20), [\n                    [_vModelText, galleryUrls.value[index]]\n                  ]),\n                  _createElementVNode(\"button\", {\n                    onClick: _withModifiers(($event: any) => (removeGalleryUrl(index)), [\"prevent\"]),\n                    type: \"button\",\n                    class: \"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600\"\n                  }, \" Remove \", 8, _hoisted_21)\n                ]))\n              }), 128))\n            ])\n          ]),\n          _createElementVNode(\"button\", {\n            type: \"submit\",\n            disabled: isAddingProduct.value,\n            class: \"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n          }, _toDisplayString(isAddingProduct.value ? 'Adding...' : 'Add Product'), 9, _hoisted_22)\n        ])\n      ], 32),\n      _createElementVNode(\"div\", _hoisted_23, [\n        _cache[22] || (_cache[22] = _createElementVNode(\"h2\", { class: \"text-2xl font-semibold text-gray-800 mb-6\" }, \"Categories\", -1)),\n        _createElementVNode(\"form\", {\n          onSubmit: _withModifiers(addCategory, [\"prevent\"]),\n          class: \"flex gap-4 mb-6\"\n        }, [\n          _createElementVNode(\"label\", _hoisted_24, [\n            _withDirectives(_createElementVNode(\"input\", {\n              \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((newCategory).value = $event)),\n              type: \"text\",\n              required: \"\",\n              placeholder: \"New category name\",\n              class: \"flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n            }, null, 512), [\n              [_vModelText, newCategory.value]\n            ])\n          ]),\n          _createElementVNode(\"button\", {\n            type: \"submit\",\n            disabled: !newCategory.value || isAddingCategory.value,\n            class: \"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed\"\n          }, _toDisplayString(isAddingCategory.value ? 'Adding...' : 'Add'), 9, _hoisted_25)\n        ], 32),\n        _createElementVNode(\"div\", _hoisted_26, [\n          _cache[21] || (_cache[21] = _createElementVNode(\"h3\", { class: \"font-medium text-gray-700 mb-3\" }, \"Existing Categories\", -1)),\n          _createElementVNode(\"div\", _hoisted_27, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(productStore).categories, (category) => {\n              return (_openBlock(), _createElementBlock(\"span\", {\n                key: category,\n                class: \"px-3 py-1 bg-gray-200 rounded-full text-sm\"\n              }, _toDisplayString(category), 1))\n            }), 128))\n          ])\n        ])\n      ])\n    ])\n  ]))\n}\n}\n\n})","<!-- eslint-disable linebreak-style -->\r\n<template>\r\n  <div class=\"max-w-4xl mx-auto p-8 bg-gray-100 min-h-screen\">\r\n    <h1 class=\"text-3xl font-bold mb-8 text-gray-800\">Admin Dashboard</h1>\r\n\r\n    <div class=\"grid gap-8\">\r\n      <!-- Product Form -->\r\n      <form @submit.prevent=\"addProduct\" class=\"bg-white p-8 rounded-lg shadow-lg\">\r\n        <h2 class=\"text-2xl font-semibold text-gray-800 mb-6\">Add New Product</h2>\r\n\r\n        <div class=\"space-y-6\">\r\n          <div class=\"grid md:grid-cols-2 gap-6\">\r\n            <label for=\"name\" class=\"block\">\r\n              <span class=\"text-gray-700 mb-2\">Product Name *</span>\r\n              <input v-model=\"name\" type=\"text\" required\r\n                     class=\"w-full px-4 py-2 mt-1 border rounded-lg\r\n                     focus:ring-2 focus:ring-blue-500\" />\r\n            </label>\r\n\r\n            <label for=\"price\" class=\"block\">\r\n              <span class=\"text-gray-700 mb-2\">Price *</span>\r\n              <input v-model=\"price\" type=\"number\" step=\"0.01\" min=\"0\" required\r\n                     class=\"w-full px-4 py-2 mt-1 border rounded-lg\r\n                     focus:ring-2 focus:ring-blue-500\" />\r\n            </label>\r\n          </div>\r\n\r\n          <label for=\"description\" class=\"block\">\r\n            <span class=\"text-gray-700 mb-2\">Description *</span>\r\n            <textarea v-model=\"description\" rows=\"4\" required\r\n                      class=\"w-full px-4 py-2 mt-1 border rounded-lg\r\n                      focus:ring-2 focus:ring-blue-500\"></textarea>\r\n          </label>\r\n\r\n          <label for=\"imageUrl\" class=\"block\">\r\n            <span class=\"text-gray-700 mb-2\">Main Image URL *</span>\r\n            <input v-model=\"imageUrl\" type=\"text\" required\r\n                   class=\"w-full px-4 py-2 mt-1 border rounded-lg\r\n                   focus:ring-2 focus:ring-blue-500\" />\r\n          </label>\r\n\r\n          <div class=\"grid md:grid-cols-2 gap-6\">\r\n            <label for=\"category\" class=\"block\">\r\n              <span class=\"text-gray-700 mb-2\">Category *</span>\r\n              <select v-model=\"category\" required\r\n                      class=\"w-full px-4 py-2 mt-1 border rounded-lg\r\n                      focus:ring-2 focus:ring-blue-500\">\r\n                <option value=\"\" disabled>Select a category</option>\r\n                <option v-for=\"cat in productStore.categories\" :key=\"cat\" :value=\"cat\">\r\n                  {{ cat }}\r\n                </option>\r\n              </select>\r\n            </label>\r\n\r\n            <label for=\"stockQuantity\" class=\"block\">\r\n              <span class=\"text-gray-700 mb-2\">Stock Quantity *</span>\r\n              <input v-model.number=\"stockQuantity\" type=\"number\" min=\"0\" required\r\n                     class=\"w-full px-4 py-2 mt-1 border rounded-lg\r\n                     focus:ring-2 focus:ring-blue-500\" />\r\n            </label>\r\n          </div>\r\n\r\n          <div class=\"grid md:grid-cols-2 gap-6\">\r\n            <label for=\"discount\" class=\"block\">\r\n              <span class=\"text-gray-700 mb-2\">Discount</span>\r\n              <div class=\"flex items-center gap-3 mt-1\">\r\n                <input v-model=\"hasDiscount\" type=\"checkbox\"\r\n                       class=\"w-4 h-4 text-blue-600 rounded focus:ring-blue-500\" />\r\n                <span>Apply Discount</span>\r\n              </div>\r\n            </label>\r\n\r\n            <label for=\"discountPercentage\" class=\"block\" v-if=\"hasDiscount\">\r\n              <span class=\"text-gray-700 mb-2\">Discount Percentage</span>\r\n              <input v-model.number=\"discountPercentage\" type=\"number\" min=\"0\" max=\"100\"\r\n                     class=\"w-full px-4 py-2 mt-1 border rounded-lg\r\n                     focus:ring-2 focus:ring-blue-500\" />\r\n            </label>\r\n          </div>\r\n\r\n          <!-- Gallery Section -->\r\n          <div class=\"space-y-4\">\r\n            <div class=\"flex justify-between items-center\">\r\n              <h3 class=\"text-lg font-medium text-gray-800\">Gallery Images</h3>\r\n              <button @click.prevent=\"addGalleryUrl\" type=\"button\"\r\n                      class=\"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600\">\r\n                Add Image URL\r\n              </button>\r\n            </div>\r\n\r\n            <div class=\"space-y-3\">\r\n              <label for=\"galleryUrls\" v-for=\"(url, index) in galleryUrls\" :key=\"index\"\r\n              class=\"flex gap-3\">\r\n                <input v-model=\"galleryUrls[index]\" type=\"text\"\r\n                       class=\"flex-1 px-4 py-2 border rounded-lg\r\n                       focus:ring-2 focus:ring-blue-500\" />\r\n                <button @click.prevent=\"removeGalleryUrl(index)\" type=\"button\"\r\n                        class=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600\">\r\n                  Remove\r\n                </button>\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          <button type=\"submit\" :disabled=\"isAddingProduct\"\r\n                  class=\"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700\r\n                         disabled:opacity-50 disabled:cursor-not-allowed\">\r\n            {{ isAddingProduct ? 'Adding...' : 'Add Product' }}\r\n          </button>\r\n        </div>\r\n      </form>\r\n\r\n      <!-- Category Management -->\r\n      <div class=\"bg-white p-8 rounded-lg shadow-lg\">\r\n        <h2 class=\"text-2xl font-semibold text-gray-800 mb-6\">Categories</h2>\r\n\r\n        <form @submit.prevent=\"addCategory\" class=\"flex gap-4 mb-6\">\r\n          <label for=\"newCategory\">\r\n            <input v-model=\"newCategory\" type=\"text\" required\r\n                 placeholder=\"New category name\"\r\n                 class=\"flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\" />\r\n          </label>\r\n          <button type=\"submit\" :disabled=\"!newCategory || isAddingCategory\"\r\n                  class=\"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600\r\n                         disabled:opacity-50 disabled:cursor-not-allowed\">\r\n            {{ isAddingCategory ? 'Adding...' : 'Add' }}\r\n          </button>\r\n        </form>\r\n\r\n        <div class=\"bg-gray-50 p-4 rounded-lg\">\r\n          <h3 class=\"font-medium text-gray-700 mb-3\">Existing Categories</h3>\r\n          <div class=\"flex flex-wrap gap-2\">\r\n            <span v-for=\"category in productStore.categories\" :key=\"category\"\r\n                  class=\"px-3 py-1 bg-gray-200 rounded-full text-sm\">\r\n              {{ category }}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<!-- eslint-disable linebreak-style -->\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onMounted } from 'vue';\r\nimport type { Product } from '@/types';\r\nimport useNotificationStore from '@/stores/notification';\r\nimport useProductStore from '../stores/product';\r\n\r\nconst productStore = useProductStore();\r\nconst notificationStore = useNotificationStore();\r\n\r\nconst name = ref('');\r\nconst description = ref('');\r\nconst price = ref<number>(0);\r\nconst imageUrl = ref('');\r\nconst category = ref('');\r\nconst stockQuantity = ref<number>(0);\r\nconst hasDiscount = ref(false);\r\nconst discountPercentage = ref<number>(0);\r\nconst galleryUrls = ref<string[]>([]);\r\nconst newCategory = ref('');\r\nconst isAddingProduct = ref(false);\r\nconst isAddingCategory = ref(false);\r\n\r\nonMounted(() => {\r\n  notificationStore.addNotification('Loading...', 'success');\r\n  productStore.fetchProducts();\r\n  productStore.fetchCategories();\r\n});\r\n\r\nconst addGalleryUrl = () => galleryUrls.value.push('');\r\nconst removeGalleryUrl = (index: number) => galleryUrls.value.splice(index, 1);\r\n\r\nconst addProduct = async () => {\r\n  try {\r\n    isAddingProduct.value = true;\r\n    const productData: Omit<Product, 'id'> = {\r\n      name: name.value,\r\n      description: description.value,\r\n      price: price.value,\r\n      imageUrl: imageUrl.value,\r\n      category: category.value,\r\n      stockQuantity: stockQuantity.value,\r\n      stockLevel: stockQuantity.value > 0 ? 'in_stock' : 'out_of_stock',\r\n      hasDiscount: hasDiscount.value,\r\n      discountPercentage: hasDiscount.value ? discountPercentage.value : 0,\r\n      galleryUrls: galleryUrls.value.filter((url) => url.trim() !== ''),\r\n    };\r\n\r\n    await productStore.addProduct(productData);\r\n\r\n    // Reset form\r\n    name.value = '';\r\n    description.value = '';\r\n    price.value = 0;\r\n    imageUrl.value = '';\r\n    category.value = '';\r\n    stockQuantity.value = 0;\r\n    hasDiscount.value = false;\r\n    discountPercentage.value = 0;\r\n    galleryUrls.value = [];\r\n\r\n    notificationStore.addNotification('Product added successfully!', 'success');\r\n  } catch (error) {\r\n    notificationStore.addNotification('Error adding product', 'error');\r\n  } finally {\r\n    isAddingProduct.value = false;\r\n  }\r\n};\r\n\r\nconst addCategory = async () => {\r\n  try {\r\n    isAddingCategory.value = true;\r\n    await productStore.addCategory(newCategory.value);\r\n    newCategory.value = '';\r\n    notificationStore.addNotification('Category added successfully!', 'success');\r\n  } catch (error) {\r\n    notificationStore.addNotification('Error adding category', 'error');\r\n  } finally {\r\n    isAddingCategory.value = false;\r\n  }\r\n};\r\n</script>\r\n<!-- eslint-disable linebreak-style -->\r\n","import script from \"./AdminProducts.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./AdminProducts.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["db","getFirestore","firebaseApp","storage","getStorage","useProductStore","defineStore","state","products","categories","searchQuery","selectedCategory","priceRange","getters","filteredProducts","filter","product","matchesSearch","name","toLowerCase","includes","description","matchesCategory","category","matchesPrice","price","actions","fetchProducts","querySnapshot","getDocs","collection","PRODUCT_COLLECTION","this","docs","map","document","id","data","addProduct","addDoc","updateProduct","updatedProduct","updateDoc","doc","deleteProduct","deleteDoc","uploadImage","file","storageRef","ref","uploadTask","uploadBytesResumable","Promise","resolve","reject","on","error","async","downloadURL","getDownloadURL","snapshot","getProductCategories","length","fetchCategories","CATEGORIES_COLLECTION","d","addCategory","setSearchQuery","query","setCategory","setPriceRange","range","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","for","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","key","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_defineComponent","__name","setup","__props","productStore","notificationStore","useNotificationStore","imageUrl","stockQuantity","hasDiscount","discountPercentage","galleryUrls","newCategory","isAddingProduct","isAddingCategory","onMounted","addNotification","addGalleryUrl","value","push","removeGalleryUrl","index","splice","productData","stockLevel","url","trim","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","onSubmit","_withModifiers","_withDirectives","$event","type","required","_vModelText","step","min","rows","disabled","_Fragment","_renderList","_unref","cat","_toDisplayString","_vModelSelect","number","_vModelCheckbox","max","_createCommentVNode","onClick","placeholder","__exports__"],"sourceRoot":""}
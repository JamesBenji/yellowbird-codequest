"use strict";(self["webpackChunkcodequest"]=self["webpackChunkcodequest"]||[]).push([[139],{3139:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});a(4114);var s=a(6768),l=a(144),r=a(4232),o=a(1387),c=a(7504),i=a(5365),n=a(5108),d=a(6242);const u={class:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8"},v={class:"max-w-3xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden"},y={key:0,class:"p-6"},g={key:1,class:"p-6"},p={class:"space-y-4"},x={class:"flex items-center space-x-4"},k={class:"font-semibold text-gray-800"},m={class:"text-sm text-gray-500"},b={class:"font-semibold text-gray-800"},f={class:"mt-8 space-y-3"},L={class:"flex justify-between"},h={class:"font-semibold text-gray-800"},w={class:"flex justify-between"},_={class:"font-semibold text-gray-800"},C={class:"flex justify-between border-t border-gray-100 pt-3"},E={class:"text-lg font-bold text-gray-800"},I={key:0,class:"text-red-500 text-sm mt-4 text-center"};var R=(0,s.pM)({__name:"CheckOut",setup(e){const t=(0,n.A)(),a=(0,d.A)(),R=(0,o.rd)(),P=(0,l.KR)("UGX"),S=(0,l.KR)(""),X=(0,i.A)(),j=(0,s.EW)((()=>t.totalPrice)),A=(0,s.EW)((()=>j.value*c.Vp)),B=(0,s.EW)((()=>j.value+A.value)),M=async()=>{if(0!==t.cartItems.length)try{X.addNotification("Processing order...","success"),await a.placeOrder(t.cartItems,B.value,P.value),t.clearCart(),R.push("/orders")}catch(e){e instanceof Error?(S.value=e.message,X.addNotification(e.message,"error")):(S.value="Caught an unknown error",X.addNotification("Unknown error","error"))}else S.value="Your cart is empty!"};return(e,a)=>((0,s.uX)(),(0,s.CE)("div",u,[a[6]||(a[6]=(0,s.Fv)('<div class="max-w-3xl mx-auto mb-8"><div class="flex justify-between items-center"><div class="flex-1"><div class="h-1 bg-gray-200 rounded-full"><div class="h-1 bg-blue-500 rounded-full" style="width:66%;"></div></div></div><div class="ml-4 text-sm text-gray-600">Step 2 of 3</div></div></div>',1)),(0,s.Lk)("div",v,[a[5]||(a[5]=(0,s.Lk)("div",{class:"p-6 border-b border-gray-100"},[(0,s.Lk)("h1",{class:"text-2xl font-bold text-gray-800"},"Checkout")],-1)),0===(0,l.R1)(t).cartItems.length?((0,s.uX)(),(0,s.CE)("div",y,a[0]||(a[0]=[(0,s.Lk)("p",{class:"text-gray-500 text-center"},"Your cart is empty. Add items before checkout.",-1)]))):((0,s.uX)(),(0,s.CE)("div",g,[(0,s.Lk)("ul",p,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,l.R1)(t).cartItems,(e=>((0,s.uX)(),(0,s.CE)("li",{key:e.id,class:"flex items-center justify-between p-4 rounded-lg hover:bg-gray-50 transition-colors duration-200"},[(0,s.Lk)("div",x,[(0,s.Lk)("div",null,[(0,s.Lk)("p",k,(0,r.v_)(e.name),1),(0,s.Lk)("p",m,(0,r.v_)((0,l.R1)(c.IB))+" "+(0,r.v_)(e.price.toLocaleString())+" x "+(0,r.v_)(e.quantity),1)])]),(0,s.Lk)("p",b,(0,r.v_)((0,l.R1)(c.IB))+" "+(0,r.v_)((e.price*e.quantity).toLocaleString()),1)])))),128))]),(0,s.Lk)("div",f,[(0,s.Lk)("div",L,[a[1]||(a[1]=(0,s.Lk)("p",{class:"text-gray-600"},"Subtotal",-1)),(0,s.Lk)("p",h,(0,r.v_)((0,l.R1)(c.IB))+" "+(0,r.v_)(j.value.toLocaleString()),1)]),(0,s.Lk)("div",w,[a[2]||(a[2]=(0,s.Lk)("p",{class:"text-gray-600"},"VAT (18%)",-1)),(0,s.Lk)("p",_,(0,r.v_)((0,l.R1)(c.IB))+" "+(0,r.v_)(A.value.toLocaleString()),1)]),(0,s.Lk)("div",C,[a[3]||(a[3]=(0,s.Lk)("p",{class:"text-lg font-bold text-gray-800"},"Total",-1)),(0,s.Lk)("p",E,(0,r.v_)((0,l.R1)(c.IB))+" "+(0,r.v_)(B.value.toLocaleString()),1)])]),a[4]||(a[4]=(0,s.Lk)("div",{class:"mt-8"},[(0,s.Lk)("h2",{class:"text-lg font-semibold text-gray-800 mb-4"},"Payment Method"),(0,s.Lk)("p",null,"We currently only support Mobile Money and Visa/Mastercard payments via PesaPal. Continuing with this checkout will directly take you to PesaPal's payment page.")],-1)),(0,s.Lk)("button",{onClick:M,class:"w-full bg-blue-500 text-white py-3 rounded-lg mt-8 hover:bg-blue-600 transition-colors duration-200"}," Place Order "),S.value?((0,s.uX)(),(0,s.CE)("p",I,(0,r.v_)(S.value),1)):(0,s.Q3)("",!0)]))])]))}});const P=R;var S=P}}]);
//# sourceMappingURL=139.cd22a1c4.js.map
(function(){"use strict";var e={7504:function(e,t,r){r.d(t,{IB:function(){return m},Jw:function(){return l},L:function(){return n},SG:function(){return s},Sx:function(){return d},UB:function(){return i},UE:function(){return c},Vp:function(){return u},d_:function(){return o},g_:function(){return a}});const n="Users",o="Products",s="Orders",a="Categories",i="https://yellowbird-codequest-backend.onrender.com",l=`${window.location.origin}/payment-callback`,c=3e3,u=.18,d="Lancelot",m="UGX"},3889:function(e,t,r){var n=r(5130),o=r(657),s=r(2015),a=r(7326),i=r(6768),l=r(144),c=r(4232),u=(r(4114),r(7504)),d=r(6380),m=r(5108),h=r(5365),f=r(1387);const p={class:"bg-gray-800 text-white p-4 flex justify-between items-center"},g={class:"space-x-4 flex items-center"},b={key:1,class:"relative group"},v={class:"absolute hidden group-hover:block bg-gray-700 min-w-[200px] rounded-md shadow-lg z-50"},y={class:"py-1"},w={key:0,class:"absolute -top-2 -right-4 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"},x={key:0,class:"w-full bg-gradient-to-r from-pink-400 to-purple-500 py-3 px-4 text-center"};var k={__name:"NavBar",setup(e){const t=(0,d.A)(),r=(0,f.rd)(),n=(0,m.A)(),o=(0,h.A)(),s=async()=>{try{await t.logOut(),r.push({name:"HomePage"})}catch(e){e instanceof Error?o.addNotification(e.message,"error"):o.addNotification(String(e),"error")}};return(e,r)=>{const o=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("nav",p,[(0,i.bF)(o,{to:"/",class:"cursive-non-selectable text-4xl"},{default:(0,i.k6)((()=>[(0,i.eW)((0,c.v_)((0,l.R1)(u.Sx)),1)])),_:1}),(0,i.Lk)("div",g,[(0,l.R1)(t).user?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(o,{key:0,to:"/",class:"hover:text-gray-300"},{default:(0,i.k6)((()=>r[0]||(r[0]=[(0,i.eW)("Home")]))),_:1})),"admin"===(0,l.R1)(t).user?.role?((0,i.uX)(),(0,i.CE)("div",b,[r[3]||(r[3]=(0,i.Lk)("button",{class:"hover:text-gray-300 px-2 py-1 transition-colors"},[(0,i.eW)(" Admin "),(0,i.Lk)("svg",{class:"w-4 h-4 inline-block ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1)),(0,i.Lk)("div",v,[(0,i.Lk)("div",y,[(0,i.bF)(o,{to:"/admin-dashboard",class:"block px-4 py-2 hover:bg-gray-600 transition-colors"},{default:(0,i.k6)((()=>r[1]||(r[1]=[(0,i.eW)(" Dashboard ")]))),_:1}),(0,i.bF)(o,{to:"/admin-products",class:"block px-4 py-2 hover:bg-gray-600 transition-colors"},{default:(0,i.k6)((()=>r[2]||(r[2]=[(0,i.eW)(" Products ")]))),_:1})])])])):(0,i.Q3)("",!0),(0,i.bF)(o,{to:"/store",class:"hover:text-gray-300"},{default:(0,i.k6)((()=>r[4]||(r[4]=[(0,i.eW)("Store")]))),_:1}),(0,l.R1)(t).user?((0,i.uX)(),(0,i.Wv)(o,{key:3,to:"/cart",class:"hover:text-gray-300 relative"},{default:(0,i.k6)((()=>[r[6]||(r[6]=(0,i.eW)(" Cart ")),(0,l.R1)(n).totalItems>0?((0,i.uX)(),(0,i.CE)("span",w,(0,c.v_)((0,l.R1)(n)?.totalItems),1)):(0,i.Q3)("",!0)])),_:1})):((0,i.uX)(),(0,i.Wv)(o,{key:2,to:"/login",class:"hover:text-gray-300"},{default:(0,i.k6)((()=>r[5]||(r[5]=[(0,i.eW)(" Login ")]))),_:1})),(0,l.R1)(t).user?((0,i.uX)(),(0,i.Wv)(o,{key:4,to:"/profile",class:"hover:text-gray-300"},{default:(0,i.k6)((()=>r[7]||(r[7]=[(0,i.eW)("Profile")]))),_:1})):(0,i.Q3)("",!0),(0,l.R1)(t).user?((0,i.uX)(),(0,i.CE)("button",{key:5,onClick:s,class:"hover:text-gray-300 transition-colors"}," Sign out ")):(0,i.Q3)("",!0)])]),(0,l.R1)(t).user?((0,i.uX)(),(0,i.CE)("div",x,r[8]||(r[8]=[(0,i.Fv)('<div class="max-w-7xl mx-auto"><p class="text-white font-bold text-xl md:text-xl animate-pulse"> üåüFebruary Big Sales Are Here!üå†‚ú® <span class="inline-block bg-white/20 px-3 py-1 rounded-full ml-2 text-sm"> üìåüìåGet up to 51% OFF üòÆ üí™ </span><span class="inline-block ml-2">Home-Office Furniture</span></p><div class="mt-1 text-white/90 text-sm flex items-center justify-center gap-1"><span class="animate-bounce">‚è≥</span> Limited Time Offer - Shop Now! </div></div>',1)]))):(0,i.Q3)("",!0)],64)}}};const A=k;var L=A;const E={key:0,class:"w-6 h-6 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},C={key:1,class:"w-6 h-6 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},S={class:"mr-4"};var q={__name:"App",setup(e){const t=(0,h.A)(),r=(0,d.A)();return(0,i.sV)((()=>{r.initialize()})),(e,r)=>{const n=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.CE)("div",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,l.R1)(t).notifications,((t,n)=>((0,i.uX)(),(0,i.CE)("div",{key:n,class:(0,c.C4)(["absolute top-4 left-1/2 transform -translate-x-1/2 flex items-center px-6 py-4 rounded-lg shadow-lg z-50 font-medium transition-all duration-300 animate-slide-in","success"===t.type?"bg-emerald-50 border border-emerald-100 text-emerald-700":"bg-rose-50 border border-rose-100 text-rose-700"])},["success"===t.type?((0,i.uX)(),(0,i.CE)("svg",E,r[1]||(r[1]=[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):((0,i.uX)(),(0,i.CE)("svg",C,r[2]||(r[2]=[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)]))),(0,i.Lk)("span",S,(0,c.v_)(t.message),1),(0,i.Lk)("button",{onClick:r[0]||(r[0]=(...t)=>e.closeNotification&&e.closeNotification(...t)),class:(0,c.C4)(["ml-auto -mr-2 -my-1 p-1 rounded-full hover:bg-opacity-20 transition-colors","success"===t.type?"hover:bg-emerald-100 text-emerald-600":"hover:bg-rose-100 text-rose-600"])},r[3]||(r[3]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),2)],2)))),128)),(0,i.bF)(L),(0,i.bF)(n)])}}};const F=q;var P=F,N=(r(8992),r(7550),r(2138));const I={class:"bg-gray-100"},_={class:"relative w-full h-screen flex items-center justify-center bg-cover bg-center",style:{"background-image":"url('/assets/images/hero-furniture.jpg')"}},O={class:"relative text-center text-white"},j={class:"text-5xl font-bold"},W={class:"py-16 px-8"},M={class:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-8"},R={class:"bg-white shadow-lg rounded-lg overflow-hidden"},U={class:"p-4"},T={class:"bg-white shadow-lg rounded-lg overflow-hidden"},B={class:"p-4"},X={class:"bg-white shadow-lg rounded-lg overflow-hidden"},D={class:"p-4"},z={class:"bg-gray-900 text-white py-16 px-8"},Y={class:"text-3xl font-bold text-center"},H={class:"bg-yellow-500 text-white py-16 text-center"},J={class:"text-4xl font-bold"};function K(e,t,r,n,o,s){const a=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",I,[(0,i.Lk)("section",_,[t[2]||(t[2]=(0,i.Lk)("div",{class:"absolute inset-0 bg-black bg-opacity-50"},null,-1)),(0,i.Lk)("div",O,[(0,i.Lk)("h1",j,(0,c.v_)(e.COMPANY_NAME)+" - Elegant & Timeless Furniture",1),t[1]||(t[1]=(0,i.Lk)("p",{class:"mt-4 text-lg"},"Crafted for comfort, designed for style.",-1)),(0,i.bF)(a,{to:"/store",class:"mt-6 inline-block bg-yellow-500 hover:bg-yellow-600 text-white px-6 py-3 rounded text-lg"},{default:(0,i.k6)((()=>t[0]||(t[0]=[(0,i.eW)(" Shop Now ")]))),_:1})])]),(0,i.Lk)("section",W,[t[15]||(t[15]=(0,i.Lk)("h2",{class:"text-3xl font-bold text-center"},"Discover Our Exclusive Collections",-1)),t[16]||(t[16]=(0,i.Lk)("p",{class:"text-center text-gray-600 mt-2"},"Furniture that blends elegance, functionality, and craftsmanship.",-1)),(0,i.Lk)("div",M,[(0,i.Lk)("div",R,[t[6]||(t[6]=(0,i.Lk)("img",{src:"/assets/images/living-room.jpg",alt:"Living Room",class:"w-full h-64 object-cover"},null,-1)),(0,i.Lk)("div",U,[t[4]||(t[4]=(0,i.Lk)("h3",{class:"text-xl font-semibold"},"Living Room",-1)),t[5]||(t[5]=(0,i.Lk)("p",{class:"text-gray-600"},"Find the perfect sofas, coffee tables, and decor for a cozy space.",-1)),(0,i.bF)(a,{to:"/store?category=living-room",class:"mt-3 inline-block text-yellow-500 hover:text-yellow-600 font-semibold"},{default:(0,i.k6)((()=>t[3]||(t[3]=[(0,i.eW)("Explore Collection ‚Üí")]))),_:1})])]),(0,i.Lk)("div",T,[t[10]||(t[10]=(0,i.Lk)("img",{src:"/assets/images/bedroom.jpg",alt:"Bedroom",class:"w-full h-64 object-cover"},null,-1)),(0,i.Lk)("div",B,[t[8]||(t[8]=(0,i.Lk)("h3",{class:"text-xl font-semibold"},"Bedroom",-1)),t[9]||(t[9]=(0,i.Lk)("p",{class:"text-gray-600"},"Elegant beds, wardrobes, and nightstands for a restful retreat.",-1)),(0,i.bF)(a,{to:"/store?category=bedroom",class:"mt-3 inline-block text-yellow-500 hover:text-yellow-600 font-semibold"},{default:(0,i.k6)((()=>t[7]||(t[7]=[(0,i.eW)("Explore Collection ‚Üí")]))),_:1})])]),(0,i.Lk)("div",X,[t[14]||(t[14]=(0,i.Lk)("img",{src:"/assets/images/dining.jpg",alt:"Dining Room",class:"w-full h-64 object-cover"},null,-1)),(0,i.Lk)("div",D,[t[12]||(t[12]=(0,i.Lk)("h3",{class:"text-xl font-semibold"},"Dining Room",-1)),t[13]||(t[13]=(0,i.Lk)("p",{class:"text-gray-600"},"Tables, chairs, and cabinets to complete your dining experience.",-1)),(0,i.bF)(a,{to:"/store?category=dining-room",class:"mt-3 inline-block text-yellow-500 hover:text-yellow-600 font-semibold"},{default:(0,i.k6)((()=>t[11]||(t[11]=[(0,i.eW)("Explore Collection ‚Üí")]))),_:1})])])])]),(0,i.Lk)("section",z,[(0,i.Lk)("h2",Y,"Why Choose "+(0,c.v_)(e.COMPANY_NAME)+"?",1),t[17]||(t[17]=(0,i.Fv)('<div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-8"><div class="flex items-center"><div class="text-yellow-400 text-4xl mr-4">‚≠ê</div><div><h3 class="text-xl font-semibold">Premium Quality</h3><p>Every piece is crafted with the finest materials for durability and comfort.</p></div></div><div class="flex items-center"><div class="text-yellow-400 text-4xl mr-4">üöö</div><div><h3 class="text-xl font-semibold">Fast &amp; Free Delivery</h3><p>Enjoy hassle-free shipping on all orders with fast delivery times.</p></div></div><div class="flex items-center"><div class="text-yellow-400 text-4xl mr-4">üí∞</div><div><h3 class="text-xl font-semibold">Affordable Prices</h3><p>Luxury furniture at unbeatable prices with flexible payment options.</p></div></div></div>',1))]),t[20]||(t[20]=(0,i.Fv)('<section class="py-16 px-8"><h2 class="text-3xl font-bold text-center">What Our Customers Say</h2><div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-8"><div class="bg-white shadow-lg rounded-lg p-6"><p class="text-gray-600">&quot;Absolutely love my new sofa! The quality and design exceeded my expectations.&quot;</p><p class="mt-2 text-sm text-gray-500">- Alice M.</p></div><div class="bg-white shadow-lg rounded-lg p-6"><p class="text-gray-600">&quot;The dining table set is stunning! Delivery was fast and customer service was excellent.&quot;</p><p class="mt-2 text-sm text-gray-500">- James K.</p></div><div class="bg-white shadow-lg rounded-lg p-6"><p class="text-gray-600">&quot;Great prices for such high-quality furniture. Will definitely buy again!&quot;</p><p class="mt-2 text-sm text-gray-500">- Sophia R.</p></div></div></section>',1)),(0,i.Lk)("section",H,[(0,i.Lk)("h2",J,"Transform Your Space with "+(0,c.v_)(e.COMPANY_NAME),1),t[19]||(t[19]=(0,i.Lk)("p",{class:"text-lg mt-2"},"Find the perfect furniture pieces to complement your home.",-1)),(0,i.bF)(a,{to:"/store",class:"mt-4 inline-block bg-white text-yellow-500 px-6 py-3 rounded text-lg"},{default:(0,i.k6)((()=>t[18]||(t[18]=[(0,i.eW)("Shop Now")]))),_:1})])])}var Q=(0,i.pM)({name:"HomeView",setup(){return{COMPANY_NAME:u.Sx}}}),G=r(1241);const V=(0,G.A)(Q,[["render",K]]);var $=V;const Z={class:"relative w-full h-screen flex items-center justify-center bg-cover bg-center",style:{"background-image":"url('/assets/images/login-bg.jpg')"}},ee={class:"relative bg-white p-8 rounded-lg shadow-md w-full max-w-md"},te={for:"email",class:"w-full mb-2"},re={for:"password",class:"w-full mb-2"},ne={key:0,class:"text-red-500 mt-2 text-center"};var oe=(0,i.pM)({__name:"LoginPage",setup(e){const t=(0,d.A)(),r=(0,h.A)(),o=(0,l.KR)(""),s=(0,l.KR)(""),a=(0,f.rd)(),u=(0,l.KR)(""),m=async()=>{try{r.addNotification("Signing in...","success"),u.value="",await t.login(o.value,s.value);const e=t.user;if(!e)throw new Error("user data is null");const n=e.role;"customer"===n?a.push({name:"StorePage"}):a.push({name:"AdminDashboard"})}catch(e){e instanceof Error?u.value=e.message:u.value="Caught an unknown error"}},p=async()=>{try{r.addNotification("Signing in...","success"),u.value="",await t.authenticateWithGoogle();const e=t.user;if(!e)throw new Error("user data is null");const n=e.role;"customer"===n?a.push({name:"StorePage"}):a.push({name:"AdminPanel"})}catch(e){e instanceof Error?u.value=e.message:u.value="Caught an unknown error"}},g=()=>{a.replace({name:"SignUp"})};return(e,t)=>((0,i.uX)(),(0,i.CE)("div",Z,[t[5]||(t[5]=(0,i.Lk)("div",{class:"absolute inset-0 bg-black bg-opacity-50"},null,-1)),(0,i.Lk)("div",ee,[t[4]||(t[4]=(0,i.Lk)("h2",{class:"text-2xl font-bold text-center mb-6 text-gray-800"},"Welcome Back!",-1)),(0,i.Lk)("form",{onSubmit:(0,n.D$)(m,["prevent"]),class:"flex flex-col"},[(0,i.Lk)("label",te,[(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),type:"email",placeholder:"Email",class:"p-3 border rounded my-auto focus:ring focus:ring-blue-300 w-full",required:""},null,512),[[n.Jo,o.value]])]),(0,i.Lk)("label",re,[(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),type:"password",placeholder:"Password",class:"p-3 border rounded my-auto focus:ring focus:ring-blue-300 w-full",required:""},null,512),[[n.Jo,s.value]])]),t[2]||(t[2]=(0,i.Lk)("button",{type:"submit",class:"bg-blue-600 hover:bg-blue-700 text-white p-3 rounded transition"}," Login ",-1)),u.value?((0,i.uX)(),(0,i.CE)("p",ne,(0,c.v_)(u.value),1)):(0,i.Q3)("",!0)],32),(0,i.Lk)("div",{class:"text-center mt-4"},[(0,i.Lk)("button",{onClick:g,class:"text-blue-600 hover:underline"}," No account? Create your account today! ")]),(0,i.Lk)("div",{class:"mt-4 text-center"},[(0,i.Lk)("button",{onClick:p,class:"bg-white border p-3 rounded flex items-center justify-center w-full hover:bg-gray-100"},t[3]||(t[3]=[(0,i.Lk)("img",{src:"/assets/images/google-icon.png",class:"w-6 h-6 mr-2",alt:"Google Logo"},null,-1),(0,i.eW)(" Sign In with Google ")]))])])]))}});const se=oe;var ae=se;const ie=[{path:"/",name:"HomePage",component:$},{path:"/login",name:"Login",component:ae},{path:"/signup",name:"SignUp",component:()=>r.e(734).then(r.bind(r,4734))},{path:"/dashboard",name:"UserDashboard",component:()=>r.e(159).then(r.bind(r,7159)),meta:{requiresAuth:!0}},{path:"/admin-panel",name:"AdminPanel",component:()=>r.e(607).then(r.bind(r,3607)),meta:{requiresAuth:!0,isAdminOnly:!0}},{path:"/cart",name:"CartPage",component:()=>r.e(496).then(r.bind(r,2496)),meta:{requiresAuth:!0}},{path:"/restricted",name:"Restricted",component:()=>r.e(861).then(r.bind(r,9242)),meta:{requiresAuth:!0}},{path:"/checkout",name:"Checkout",component:()=>Promise.all([r.e(242),r.e(139)]).then(r.bind(r,3139)),meta:{requiresAuth:!0}},{path:"/orders",name:"Orders",component:()=>Promise.all([r.e(242),r.e(779)]).then(r.bind(r,1779)),meta:{requiresAuth:!0}},{path:"/admin-orders",name:"AdminOrders",component:()=>Promise.all([r.e(242),r.e(24)]).then(r.bind(r,24)),meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/admin-dashboard",name:"AdminDashboard",component:()=>r.e(187).then(r.bind(r,8187)),meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/admin-products",name:"AdminProducts",component:()=>r.e(508).then(r.bind(r,8508)),meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/product/:id",name:"ProductDetails",component:()=>r.e(781).then(r.bind(r,1781))},{path:"/store",name:"StorePage",component:()=>r.e(128).then(r.bind(r,8128))},{path:"/profile",name:"ProfilePage",component:()=>Promise.all([r.e(242),r.e(637)]).then(r.bind(r,9637)),meta:{requiresAuth:!0}},{path:"/payment-callback",name:"PaymentCallback",component:()=>r.e(867).then(r.bind(r,9867)),meta:{requiresAuth:!0}}],le=(0,f.aE)({history:(0,f.LA)("/"),routes:ie}),ce=localStorage.getItem("userAuth");let ue;if(ce){const{role:e}=JSON.parse(ce);ue=e}le.beforeEach((async(e,t,r)=>{const n=(0,N.xI)(a.x),o=e.matched.some((e=>e.meta.requiresAuth)),s=e.matched.some((e=>e.meta.isAdminOnly));await new Promise((e=>{const t=(0,N.hg)(n,(r=>{t(),e(r)}))}));const i=n.currentUser;if(o)if(i){const e=(0,d.A)(),t=e.user;s?"admin"===t?.role||"admin"===ue?r():r({name:"Restricted"}):r()}else r({name:"Login"});else r()}));var de=le;const me=(0,n.Ef)(P),he=(0,o.Ey)();me.use(he),me.use(s.Nz,{firebaseApp:a.x}),me.use(de),me.mount("#app")},7326:function(e,t,r){r.d(t,{x:function(){return s}});var n=r(6400);const o={apiKey:"AIzaSyBAp7i27duYyLMjYSfsdltA-qd3YOPthKM",authDomain:"yellowbird-codequest.firebaseapp.com",projectId:"yellowbird-codequest",storageBucket:"yellowbird-codequest.firebasestorage.app",messagingSenderId:"716183790074",appId:"1:716183790074:web:52595861bb710920aac443",measurementId:"G-3LB33E3JST"},s=(0,n.Wp)(o)},6380:function(e,t,r){var n=r(657),o=r(2138),s=r(7326),a=r(7504),i=r(7617);const l=(0,i.aU)(s.x),c=(0,n.nY)("auth",{state(){return{user:null}},actions:{getAuthInstance(){return(0,o.xI)(s.x)},async saveUser(e){try{await(0,i.BN)((0,i.H9)(l,a.L,e.uid),e)}catch(t){if(t instanceof Error)throw new Error(t.message)}},async getUser(e){try{const t=await(0,i.x7)((0,i.H9)(l,a.L,e));return t.exists()&&t.data()?t.data():null}catch(t){if(t instanceof Error)throw new Error(t.message);throw new Error("Error getting user")}},async signUp(e,t,r,n,s){const a=this.getAuthInstance();if(await(0,o.oM)(a,o.F0),!a)throw new Error("Firebase Authentication is not initialized.");try{const i=await(0,o.eJ)(a,e,t),l=i.user,c={email:e,firstName:r,lastName:n,gender:s,role:"customer",createdAt:new Date,uid:l.uid,purchasesRef:""};await this.saveUser(c),localStorage.setItem("userAuth",JSON.stringify(c))}catch(i){throw this.handleFirebaseError(i)}},async login(e,t){const r=this.getAuthInstance();if(await(0,o.oM)(r,o.F0),!r)throw new Error("Firebase authentication is not initialized");try{const n=await(0,o.x9)(r,e,t),s=n.user;this.user=await this.getUser(s.uid)}catch(n){throw this.handleFirebaseError(n)}},async logOut(){const e=this.getAuthInstance();if(!e)throw new Error("Firebase auth is not initialized.");try{await(0,o.CI)(e),this.user=null,localStorage.removeItem("userAuth")}catch(t){throw new Error("Log Out failed. Please try again.")}},persistUserAuth(){const e=this.getAuthInstance(),t=localStorage.getItem("userAuth");t&&(this.user=JSON.parse(t)),e&&(0,o.hg)(e,(async e=>{if(e){const t=await this.getUser(e.uid);localStorage.setItem("userAuth",JSON.stringify(t)),this.user=t}else this.user=null,localStorage.removeItem("userAuth")}))},initialize(){this.persistUserAuth()},async authenticateWithGoogle(){const e=this.getAuthInstance();if(await(0,o.oM)(e,o.F0),!e)throw new Error("Firebase Authentication is not initialized.");const t=new o.HF;try{const r=await(0,o.df)(e,t),n=r.user,s=await this.getUser(n.uid);if(s)this.user=s;else{const e={email:n.email||"",firstName:n.displayName?.split(" ")[0]||"",lastName:n.displayName?.split(" ")[1]||"",gender:"unspecified",role:"customer",createdAt:new Date,uid:n.uid,purchasesRef:"",address:""};await this.saveUser(e),this.user=e}}catch(r){throw this.handleFirebaseError(r)}},handleFirebaseError(e){if(e instanceof Error){const t=e;switch(t.code){case"auth/email-already-in-use":return new Error("This email is already registered.");case"auth/invalid-email":return new Error("Invalid email format.");case"auth/weak-password":return new Error("Password should be at least 6 characters.");case"auth/user-not-found":return new Error("No account found with this email.");case"auth/wrong-password":return new Error("Incorrect password. Please try again.");case"auth/too-many-requests":return new Error("Too many failed attempts. Please try again later.");default:return new Error(e.message||"Authentication failed. Please try again.")}}return new Error("An unknown error occurred.")}}});t.A=c},5108:function(e,t,r){r(4114),r(8992),r(4520),r(2577),r(8872),r(7550);var n=r(657);const o=(0,n.nY)("cart",{state:()=>({cartItems:[]}),getters:{totalItems:e=>e.cartItems.reduce(((e,t)=>e+t.quantity),0),totalPrice:e=>e.cartItems.reduce(((e,t)=>e+t.price*t.quantity),0)},actions:{addToCart(e){const t=this.cartItems.find((t=>t.id===e.id));t?t.quantity+=1:this.cartItems.push({...e,quantity:1})},removeFromCart(e){this.cartItems=this.cartItems.filter((t=>t.id!==e))},increaseQuantity(e){const t=this.cartItems.find((t=>t.id===e));t&&t.quantity>0&&(t.quantity+=1)},decreaseQuantity(e){const t=this.cartItems.find((t=>t.id===e));t&&t.quantity>0&&(t.quantity-=1)},isInCart(e){return this.cartItems.some((t=>t.id===e))},clearCart(){this.cartItems=[]}}});t.A=o},5365:function(e,t,r){r(4114);var n=r(7504),o=r(657),s=r(144);const a=(0,o.nY)("notification",(()=>{const e=(0,s.KR)([]),t=(t,r)=>{e.value.push({message:t,type:r}),setTimeout((()=>{e.value.shift()}),n.UE)};return{notifications:e,addNotification:t}}));t.A=a}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,s){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],s=e[u][2];for(var i=!0,l=0;l<n.length;l++)(!1&s||a>=s)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(i=!1,s<a&&(a=s));if(i){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,o,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/"+e+"."+{24:"555dee1b",128:"01218837",139:"cd22a1c4",159:"6a7e257d",187:"af761e03",242:"a0e862e9",496:"56f51ee7",508:"4bd998ef",607:"89d0194c",637:"b6fddb6d",734:"4db21e92",779:"da6e14cb",781:"8f82cffc",861:"605824bd",867:"a1b7eb8a"}[e]+".js"}}(),function(){r.miniCssF=function(e){return"css/"+e+"."+{128:"919da29f",781:"4c9bb2d4"}[e]+".css"}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="codequest:";r.l=function(n,o,s,a){if(e[n])e[n].push(o);else{var i,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+s){i=d;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+s),i.src=n),e[n]=[o];var m=function(t,r){i.onerror=i.onload=null,clearTimeout(h);var o=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(r)})),t)return t(r)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,o,s){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",r.nc&&(a.nonce=r.nc);var i=function(r){if(a.onerror=a.onload=null,"load"===r.type)o();else{var n=r&&r.type,i=r&&r.target&&r.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+i+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=n,l.request=i,a.parentNode&&a.parentNode.removeChild(a),s(l)}};return a.onerror=a.onload=i,a.href=t,n?n.parentNode.insertBefore(a,n.nextSibling):document.head.appendChild(a),a},t=function(e,t){for(var r=document.getElementsByTagName("link"),n=0;n<r.length;n++){var o=r[n],s=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(s===e||s===t))return o}var a=document.getElementsByTagName("style");for(n=0;n<a.length;n++){o=a[n],s=o.getAttribute("data-href");if(s===e||s===t)return o}},n=function(n){return new Promise((function(o,s){var a=r.miniCssF(n),i=r.p+a;if(t(a,i))return o();e(n,i,null,o,s)}))},o={524:0};r.f.miniCss=function(e,t){var r={128:1,781:1};o[e]?t.push(o[e]):0!==o[e]&&r[e]&&t.push(o[e]=n(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}}(),function(){var e={524:0};r.f.j=function(t,n){var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var s=new Promise((function(r,n){o=e[t]=[r,n]}));n.push(o[2]=s);var a=r.p+r.u(t),i=new Error,l=function(n){if(r.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var s=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",i.name="ChunkLoadError",i.type=s,i.request=a,o[1](i)}};r.l(a,l,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,s,a=n[0],i=n[1],l=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(l)var u=l(r)}for(t&&t(n);c<a.length;c++)s=a[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(u)},n=self["webpackChunkcodequest"]=self["webpackChunkcodequest"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[504],(function(){return r(3889)}));n=r.O(n)})();
//# sourceMappingURL=app.de1e61dd.js.map
"use strict";(self["webpackChunkcodequest"]=self["webpackChunkcodequest"]||[]).push([[607],{8811:function(e,t,a){a(8992),a(4520),a(1454);var l=a(657),o=a(7617),c=a(7844),r=a(7326),s=a(7504);const u=(0,o.aU)(r.x),n=(0,c.c7)(r.x),i=(0,l.nY)("product",{state:()=>({products:[],categories:[],searchQuery:"",selectedCategory:"all",priceRange:[0,1e4]}),getters:{filteredProducts:e=>e.products.filter((t=>{const a=t.name.toLowerCase().includes(e.searchQuery.toLowerCase())||t.description.toLowerCase().includes(e.searchQuery.toLowerCase()),l="all"===e.selectedCategory||t.category===e.selectedCategory,o=t.price>=e.priceRange[0]&&t.price<=e.priceRange[1];return a&&l&&o}))},actions:{async fetchProducts(){const e=await(0,o.GG)((0,o.rJ)(u,s.d_));this.products=e.docs.map((e=>({id:e.id,...e.data()})))},async addProduct(e){await(0,o.gS)((0,o.rJ)(u,s.d_),e),await this.fetchProducts()},async updateProduct(e,t){await(0,o.mZ)((0,o.H9)(u,s.d_,e),t),await this.fetchProducts()},async deleteProduct(e){await(0,o.kd)((0,o.H9)(u,s.d_,e)),await this.fetchProducts()},async uploadImage(e){const t=(0,c.KR)(n,`products/${e.name}`),a=(0,c.bp)(t,e);return new Promise(((e,t)=>{a.on("state_changed",null,(e=>t(e)),(async()=>{const t=await(0,c.qk)(a.snapshot.ref);e(t)}))}))},async getProductCategories(){return this.categories.length<1&&await this.fetchCategories(),this.categories},async fetchCategories(){const e=await(0,o.GG)((0,o.rJ)(u,s.g_));this.categories=e.docs.map((e=>e.id))},async addCategory(e){await(0,o.gS)((0,o.rJ)(u,s.g_),{name:e}),await this.fetchCategories()},setSearchQuery(e){this.searchQuery=e},setCategory(e){this.selectedCategory=e},setPriceRange(e){this.priceRange=e}}});t.A=i},3607:function(e,t,a){a.r(t),a.d(t,{default:function(){return Q}});var l=a(6768),o=a(5130),c=a(144),r=a(4232),s=a(8811);const u={class:"p-6"},n={class:"mb-6"},i={for:"productName"},d={for:"productDescription"},p={for:"productPrice"},m={for:"productImageUrl"},k={for:"productGalleryUrl"},b={for:"productStockQuantity"},g={class:"mb-2"},y={for:"hasDiscount",class:"block"},v={key:0,for:"discountPercentage"},L={for:"category",class:"block"},h={for:"stockLevel",class:"block"},f={for:"currency",class:"block"},w={class:"grid grid-cols-3 gap-4"},U=["src","alt"],P={class:"text-lg font-semibold"},C={class:"font-bold text-green-600"},_=["onClick"];var x=(0,l.pM)({__name:"AdminPanel",setup(e){const t=(0,s.A)(),a=(0,c.KR)({name:"",description:"",price:0,imageUrl:"",galleryUrls:[],hasDiscount:!1,discountPercentage:0,category:"",stockLevel:"in_stock",currency:"UGX",stockQuantity:"0"});(0,l.sV)((()=>{t.fetchProducts()}));const x=async()=>{await t.addProduct(a.value),a.value={name:"",description:"",price:0,imageUrl:"",galleryUrls:[],hasDiscount:!1,discountPercentage:0,category:"",stockLevel:"in_stock",currency:"USD",stockQuantity:"0"}},D=e=>{const t=e.target;t&&(a.value.galleryUrls=t.value.split(","))};return(e,s)=>((0,l.uX)(),(0,l.CE)("div",u,[s[25]||(s[25]=(0,l.Lk)("h1",{class:"text-2xl font-bold mb-4"},"Admin Panel - Manage Antiques",-1)),(0,l.Lk)("div",n,[(0,l.Lk)("label",i,[s[11]||(s[11]=(0,l.eW)(" Name ")),(0,l.bo)((0,l.Lk)("input",{name:"productName","onUpdate:modelValue":s[0]||(s[0]=e=>a.value.name=e),type:"text",placeholder:"Name",class:"border p-2 w-full mb-2"},null,512),[[o.Jo,a.value.name]])]),(0,l.Lk)("label",d,[s[12]||(s[12]=(0,l.eW)(" Description ")),(0,l.bo)((0,l.Lk)("textarea",{name:"productDescription","onUpdate:modelValue":s[1]||(s[1]=e=>a.value.description=e),placeholder:"Description",class:"border p-2 w-full mb-2"},null,512),[[o.Jo,a.value.description]])]),(0,l.Lk)("label",p,[s[13]||(s[13]=(0,l.eW)(" Price ")),(0,l.bo)((0,l.Lk)("input",{name:"productPrice","onUpdate:modelValue":s[2]||(s[2]=e=>a.value.price=e),type:"number",placeholder:"Price",class:"border p-2 w-full mb-2"},null,512),[[o.Jo,a.value.price]])]),(0,l.Lk)("label",m,[s[14]||(s[14]=(0,l.eW)(" ImageUrl ")),(0,l.bo)((0,l.Lk)("input",{name:"productImageUrl","onUpdate:modelValue":s[3]||(s[3]=e=>a.value.imageUrl=e),type:"text",placeholder:"Image URL",class:"border p-2 w-full mb-2"},null,512),[[o.Jo,a.value.imageUrl]])]),(0,l.Lk)("label",k,[s[15]||(s[15]=(0,l.eW)(" Product Gallery (comma-separated urls) ")),(0,l.bo)((0,l.Lk)("input",{name:"productGalleryUrl","onUpdate:modelValue":s[4]||(s[4]=e=>a.value.galleryUrls=e),type:"text",placeholder:"Gallery URLs (comma-separated)",class:"border p-2 w-full mb-2",onInput:D},null,544),[[o.Jo,a.value.galleryUrls]])]),(0,l.Lk)("label",b,[s[16]||(s[16]=(0,l.eW)(" Number of units ")),(0,l.bo)((0,l.Lk)("input",{name:"productStockQuantity","onUpdate:modelValue":s[5]||(s[5]=e=>a.value.stockQuantity=e),type:"number",placeholder:"Stock Quantity",class:"border p-2 w-full mb-2"},null,512),[[o.Jo,a.value.stockQuantity]])]),(0,l.Lk)("div",g,[(0,l.Lk)("label",y,[s[17]||(s[17]=(0,l.eW)("Has Discount: ")),(0,l.bo)((0,l.Lk)("input",{name:"hasDiscount","onUpdate:modelValue":s[6]||(s[6]=e=>a.value.hasDiscount=e),type:"checkbox"},null,512),[[o.lH,a.value.hasDiscount]])])]),a.value.hasDiscount?((0,l.uX)(),(0,l.CE)("label",v,[s[18]||(s[18]=(0,l.eW)(" Discount percentage ")),(0,l.bo)((0,l.Lk)("input",{name:"discountPercentage","onUpdate:modelValue":s[7]||(s[7]=e=>a.value.discountPercentage=e),type:"number",placeholder:"Discount %",class:"border p-2 w-full mb-2"},null,512),[[o.Jo,a.value.discountPercentage]])])):(0,l.Q3)("",!0),(0,l.Lk)("label",L,[s[20]||(s[20]=(0,l.eW)("Category: ")),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":s[8]||(s[8]=e=>a.value.category=e),name:"category",class:"border p-2 w-full mb-2"},s[19]||(s[19]=[(0,l.Lk)("option",{value:"furniture"},"Furniture",-1),(0,l.Lk)("option",{value:"jewelry"},"Jewelry",-1),(0,l.Lk)("option",{value:"art"},"Art",-1),(0,l.Lk)("option",{value:"coins"},"Coins",-1)]),512),[[o.u1,a.value.category]])]),(0,l.Lk)("label",h,[s[22]||(s[22]=(0,l.eW)("Stock Level: ")),(0,l.bo)((0,l.Lk)("select",{name:"stockLevel","onUpdate:modelValue":s[9]||(s[9]=e=>a.value.stockLevel=e),class:"border p-2 w-full mb-2"},s[21]||(s[21]=[(0,l.Lk)("option",{value:"in_stock"},"In Stock",-1),(0,l.Lk)("option",{value:"low_stock"},"Low Stock",-1),(0,l.Lk)("option",{value:"out_of_stock"},"Out of Stock",-1)]),512),[[o.u1,a.value.stockLevel]])]),(0,l.Lk)("label",f,[s[24]||(s[24]=(0,l.eW)("Currency: ")),(0,l.bo)((0,l.Lk)("select",{name:"currency","onUpdate:modelValue":s[10]||(s[10]=e=>a.value.currency=e),class:"border p-2 w-full mb-2"},s[23]||(s[23]=[(0,l.Lk)("option",{value:"UGX",selected:""},"UGX",-1)]),512),[[o.u1,a.value.currency]])]),(0,l.Lk)("button",{onClick:x,class:"bg-blue-500 text-white p-2 rounded"},"Add Product")]),s[26]||(s[26]=(0,l.Lk)("h2",{class:"text-xl font-bold mb-4"},"Existing Products",-1)),(0,l.Lk)("div",w,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,c.R1)(t).products,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"border p-4 rounded"},[(0,l.Lk)("img",{src:e.imageUrl,alt:e.imageUrl+"image",class:"w-full h-40 object-cover rounded mb-2"},null,8,U),(0,l.Lk)("h2",P,(0,r.v_)(e.name),1),(0,l.Lk)("p",null,(0,r.v_)(e.description),1),(0,l.Lk)("p",C,(0,r.v_)(e.currency)+" "+(0,r.v_)(e.price),1),(0,l.Lk)("button",{onClick:a=>(0,c.R1)(t).deleteProduct(e.id),class:"bg-red-500 text-white p-2 rounded mt-2"}," Delete ",8,_)])))),128))])]))}});const D=x;var Q=D}}]);
//# sourceMappingURL=607.89d0194c.js.map
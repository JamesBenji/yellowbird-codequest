"use strict";(self["webpackChunkcodequest"]=self["webpackChunkcodequest"]||[]).push([[781],{8811:function(e,t,a){a(8992),a(4520),a(1454);var s=a(657),r=a(7617),c=a(7844),o=a(7326),l=a(7504);const i=(0,r.aU)(o.x),d=(0,c.c7)(o.x),n=(0,s.nY)("product",{state:()=>({products:[],categories:[],searchQuery:"",selectedCategory:"all",priceRange:[0,1e4]}),getters:{filteredProducts:e=>e.products.filter((t=>{const a=t.name.toLowerCase().includes(e.searchQuery.toLowerCase())||t.description.toLowerCase().includes(e.searchQuery.toLowerCase()),s="all"===e.selectedCategory||t.category===e.selectedCategory,r=t.price>=e.priceRange[0]&&t.price<=e.priceRange[1];return a&&s&&r}))},actions:{async fetchProducts(){const e=await(0,r.GG)((0,r.rJ)(i,l.d_));this.products=e.docs.map((e=>({id:e.id,...e.data()})))},async addProduct(e){await(0,r.gS)((0,r.rJ)(i,l.d_),e),await this.fetchProducts()},async updateProduct(e,t){await(0,r.mZ)((0,r.H9)(i,l.d_,e),t),await this.fetchProducts()},async deleteProduct(e){await(0,r.kd)((0,r.H9)(i,l.d_,e)),await this.fetchProducts()},async uploadImage(e){const t=(0,c.KR)(d,`products/${e.name}`),a=(0,c.bp)(t,e);return new Promise(((e,t)=>{a.on("state_changed",null,(e=>t(e)),(async()=>{const t=await(0,c.qk)(a.snapshot.ref);e(t)}))}))},async getProductCategories(){return this.categories.length<1&&await this.fetchCategories(),this.categories},async fetchCategories(){const e=await(0,r.GG)((0,r.rJ)(i,l.g_));this.categories=e.docs.map((e=>e.id))},async addCategory(e){await(0,r.gS)((0,r.rJ)(i,l.g_),{name:e}),await this.fetchCategories()},setSearchQuery(e){this.searchQuery=e},setCategory(e){this.selectedCategory=e},setPriceRange(e){this.priceRange=e}}});t.A=n},1781:function(e,t,a){a.r(t),a.d(t,{default:function(){return R}});a(8992),a(2577);var s=a(6768),r=a(4232),c=a(144),o=a(1387),l=a(7504),i=a(8811),d=a(6380),n=a(5108);const u={key:0,class:"p-6 max-w-7xl mx-auto"},g={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},h={class:"flex flex-col items-center"},m=["src","alt"],y={class:"space-y-6"},p={class:"font-bold text-gray-900 cursive-non-selectable text-6xl"},v={class:"prose max-w-none"},f={class:"text-gray-600 leading-relaxed"},w={key:0,class:"prose max-w-none"},b={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},k=["src","alt"],x={class:"w-full max-w-lg"},C={class:"text-2xl font-bold text-gray-800 mb-2"},L={key:0,class:"mt-4 space-y-2 flex justify-between"};var P={__name:"ProductDetails",setup(e){const t=(0,o.lq)(),a=(0,i.A)(),P=(0,d.A)(),_=(0,n.A)(),E=(0,s.EW)((()=>a.products.find((e=>e.id===t.params.id))));(0,s.sV)((()=>{a.fetchProducts()}));const R=()=>{E.value&&_.addToCart({id:E.value.id,name:E.value.name,price:E.value.price,quantity:1})};return(e,t)=>E.value?((0,s.uX)(),(0,s.CE)("div",u,[(0,s.Lk)("div",g,[(0,s.Lk)("div",h,[(0,s.Lk)("img",{src:E.value.imageUrl,alt:E.value.name+"image",class:"w-full max-w-lg h-auto object-contain rounded-lg shadow-lg mb-4 transition-transform duration-300 hover:scale-105"},null,8,m)]),(0,s.Lk)("div",y,[(0,s.Lk)("h1",p,(0,r.v_)(E.value.name),1),(0,s.Lk)("div",v,[(0,s.Lk)("p",f,(0,r.v_)(E.value.description),1)]),E.value.galleryUrls?((0,s.uX)(),(0,s.CE)("div",w,[t[0]||(t[0]=(0,s.Lk)("h2",{class:"text-xl font-semibold text-gray-800 mb-2"},"Gallery",-1)),(0,s.Lk)("div",b,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(E.value.galleryUrls,(e=>((0,s.uX)(),(0,s.CE)("img",{key:e,src:e,alt:E.value.name+"image",class:"w-full h-32 md:h-40 object-cover rounded-lg border hover:shadow-lg transition-all duration-300 cursor-pointer"},null,8,k)))),128))])])):(0,s.Q3)("",!0),(0,s.Lk)("div",x,[(0,s.Lk)("h2",C,(0,r.v_)((0,c.R1)(l.IB))+" "+(0,r.v_)(E.value.price.toLocaleString()),1),"admin"===(0,c.R1)(P).user?.role?((0,s.uX)(),(0,s.CE)("div",L,t[1]||(t[1]=[(0,s.Lk)("button",{class:"admin-btn bg-yellow-500 hover:bg-yellow-600"}," Edit Product ",-1),(0,s.Lk)("button",{class:"admin-btn bg-red-500 hover:bg-red-600 ml-0 md:ml-2"}," Delete Product ",-1)]))):((0,s.uX)(),(0,s.CE)("button",{key:1,onClick:R,class:"w-full bg-gray-800 hover:bg-gray-600 my-2 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-300"}," Add to Cart "))])])])])):(0,s.Q3)("",!0)}},_=a(1241);const E=(0,_.A)(P,[["__scopeId","data-v-4f49ffba"]]);var R=E}}]);
//# sourceMappingURL=781.8f82cffc.js.map